.include "m8535def.inc"
.org 0

rjmp main

main:
LDI R16, LOW(RAMEND)
OUT SPL, R16
LDI R16, HIGH(RAMEND)
OUT SPH, R16

//INISIALISASI NILAI
ADD R18, R16
ADD R19, R17

//SIMPAN NILAI UNTUK PENJUMLAHAN TERAKHIR
ADD R13, R16
ADD R14, R17

//FAKTOR PENGALI 2
ADD R18, R16
ADC R19, R17
ADC R20, R1

MOV R1, R18
MOV R2, R19
MOV R3, R20

//FAKTOR PENGALI 4
RCALL FK

MOV R4, R18
MOV R5, R19
MOV R6, R20

//FAKTOR PENGALI 8
RCALL FK
//FAKTOR PENGALI 16
RCALL FK

MOV R7, R18
MOV R8, R19
MOV R9, R20
//FAKTOR PENGALI 32
RCALL FK

ADD R10, R18
ADC R11, R19
ADC R12, R20
//FAKTOR PENGALI 64
RCALL FK

//MULAI PENJUMLAHAN
ADD R18, R7
ADC R19, R8
ADC R20, R9

ADD R18, R4
ADC R19, R5
ADC R20, R6

ADD R18, R1
ADC R19, R2
ADC R20, R3

ADD R18, R16
ADC R19, R17
ADC R20, R15

ADD R18, R13
ADC R19, R14
ADC R20, R0

akhir: rjmp akhir

FK: 
ADD R18, R18
ADC R19, R19
ADC R20, R20
RET
