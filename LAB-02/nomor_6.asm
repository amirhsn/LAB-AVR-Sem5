.INCLUDE "M8535DEF.INC"
.ORG 0

RJMP MAIN

MAIN :	LDI R17,LOW(RAMEND)
		OUT SPL,R17
		LDI R17,HIGH(RAMEND)
		OUT SPH,R17

		LDI ZL,LOW(2*SMBR)
		LDI ZH,HIGH(2*SMBR)
		LPM R3,Z+
		LPM R2,Z+
		LPM R1,Z+
		LPM R0,Z+

		LDI ZL,LOW(2*DATA1)
		LDI ZH,HIGH(2*DATA1)
		LPM R6,Z+
		LPM R5,Z+
		LPM R4,Z+

		SUB R3,R6
		SBC R2,R5
		SBC R1,R4
		SBC R0,R20

		LDI ZL,LOW(2*DATA2)
		LDI ZH,HIGH(2*DATA2)
		LPM R9,Z+
		LPM R8,Z+
		LPM R7,Z+

		SUB R3,R9
		SBC R2,R8
		SBC R1,R7
		SBC R0,R20


		LDI ZL,LOW(2*DATA3)
		LDI ZH,HIGH(2*DATA3)
		LPM R12,Z+
		LPM R11,Z+
		LPM R10,Z+

		SUB R3,R12
		SBC R2,R11
		SBC R1,R10
		SBC R0,R20

		LDI ZL,LOW(2*DATA4)
		LDI ZH,HIGH(2*DATA4)
		LPM R15,Z+
		LPM R14,Z+
		LPM R13,Z+

		SUB R3,R15
		SBC R2,R14
		SBC R1,R13
		SBC R0,R20

		LDI ZL,LOW(2*DATA5)
		LDI ZH,HIGH(2*DATA5)
		LPM R16,Z+
		LPM R15,Z+
		LPM R14,Z+

		SUB R3,R16
		SBC R2,R15
		SBC R1,R14
		SBC R0,R20


AKHIR:	RJMP AKHIR

.ORG 0XFF0
SMBR: .DD 0XFFFFFFFF

.ORG 0XFF5
DATA1: .DD 0X123456

.ORG 0XFF8
DATA2: .DD 0X112233

.ORG 0XFFB
DATA3: .DD 0X333333

.ORG 0XFFE
DATA4: .DD 0X222222

.ORG 0XFE0
DATA5: .DD 0X111111
